(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c5ae729c"],{"920d":function(t,e,a){},9406:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%",height:"93.5vh"}},[a("el-row",{staticStyle:{"background-color":"#ffffff",height:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-row",{style:t.fullheight,attrs:{gutter:20}},[a("el-col",[a("el-card",{staticClass:"unit1",attrs:{shadow:"hover"}},[a("div",{staticClass:"block",staticStyle:{height:"100%"}},[a("el-avatar",{staticStyle:{"margin-left":"20px","margin-top":"25px"},attrs:{size:100,src:t.userInfo.avatarUrl}}),a("div",{staticClass:"unit1-1"},[a("span",{staticClass:"important-font"},[t._v("姓名:"+t._s(t.userInfo.name))]),a("br"),a("span",{staticClass:"important-font"},[t._v("性别:"+t._s(t.userInfo.gender))]),a("br"),a("span",{staticClass:"important-font"},[t._v("年龄:"+t._s(t.userInfo.age))]),a("br"),a("span",{staticClass:"important-font"},[t._v("手机号:"+t._s(t.userInfo.phone))]),a("br")])],1),a("div",{staticStyle:{"margin-top":"5%","text-align":"center"}},[a("span",[t._v("欢迎进入游乐园智慧助手管理系统!")])])])],1),a("el-col",[a("el-card",{staticClass:"unit2",attrs:{shadow:"hover"}},[a("div",{staticClass:"unit2-1"},[t._v("今日游乐设施排行榜")]),a("div",{staticClass:"unit2-2"},[a("table",{staticClass:"unit2-2-table",style:"height:"+(.75*t.height-225)+"px;",attrs:{border:"0px",emptyText:"暂无"}},[a("tr",{staticClass:"unit-2-2-1"},[a("th",{staticClass:"unit2-2-th unit-2-2-1-left",attrs:{width:"50",height:"30",align:"center"}},[t._v("排名")]),a("th",{staticClass:"unit2-2-th",attrs:{width:"200",align:"center"}},[t._v("设施名称")]),a("th",{staticClass:"unit2-2-th unit-2-2-1-right",attrs:{width:"100",align:"center"}},[t._v("游玩人数")])]),t._l(t.facilityRank,(function(e,i){return a("tr",{staticClass:"unit-2-2-1"},[a("td",{staticClass:"unit-2-2-1-left",attrs:{height:"30",align:"center"}},[t._v(t._s(i+1))]),a("td",{attrs:{align:"center"}},[t._v(t._s(e.name))]),a("td",{staticClass:"unit-2-2-1-right",attrs:{align:"center"}},[t._v(t._s(e.count))])])}))],2)])])],1)],1)],1),a("el-col",{attrs:{span:15}},[a("el-row",{style:t.fullheight,attrs:{gutter:20}},[a("el-col",[a("el-card",{staticClass:"unit3",attrs:{shadow:"hover"}},[a("div",{staticClass:"unit3-0"},[a("div",{staticClass:"unit3-1"},[t._v(" 今日游乐设施实时拥挤度 ")]),a("div",{staticClass:"unit3-2",style:"height:"+.4*t.height+"px;"},[a("qiun-vue-ucharts",{attrs:{type:"column",opts:t.opts_unit3,chartData:t.chartData_unit3}})],1)])])],1)],1),a("el-row",{attrs:{gutter:30}},[a("el-col",[a("el-card",{staticClass:"unit4",attrs:{shadow:"hover"}},[a("div",{staticClass:"unit4-0"},[a("div",{staticClass:"unit4-1"},[t._v(" 游乐园每日游玩人数变化 ")]),a("div",{staticClass:"unit4-2",style:"height:"+.315*t.height+"px;"},[a("qiun-vue-ucharts",{attrs:{type:"line",opts:t.opts_unit4,chartData:t.chartData_unit4}})],1)])])],1)],1)],1)],1)],1)},n=[],s=a("5530"),o=(a("4e82"),a("b0c0"),a("e9c4"),a("b64b"),a("d3b7"),a("159b"),a("034f")),c=a("2f62"),r=a("b775");function l(){return Object(r["a"])({url:"/statistics/headCount/facility",method:"get"})}function u(){return Object(r["a"])({url:"/filter/amusement",method:"post",data:{}})}function h(){return Object(r["a"])({url:"/statistics/headCount/totalArrangeByDate",method:"get"})}var d={name:"Index",components:{qiunVueUcharts:o["a"]},computed:Object(s["a"])({},Object(c["b"])(["user"])),mounted:function(){var t=this;window.onresize=function(){return function(){window.fullHeight=document.documentElement.clientHeight,t.height=window.fullHeight,t.fullheight="height: "+t.height+"px;",window.fullWidth=document.documentElement.clientWidth}()}},data:function(){return{height:document.documentElement.clientHeight,fullheight:"",circleUrl:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",imgurl:"",dataarry:[],namearry:[],infoList:null,userInfo:{name:"",avatar:"",department:"",role:""},chartData_unit3:{},opts_unit3:{color:["#f8f8f8","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc","#0624ea","#fff700"],padding:[15,15,0,5],enableScroll:!1,fontSize:15,update:!0,legend:{show:!0,position:"bottom",titleOffsetX:1e3},xAxis:{disableGrid:!0,fontSize:15},yAxis:{showTitle:!0,data:[{title:"预计排队等待时间/分钟",min:0,titleOffsetY:-5,titleOffsetX:90,titleFontSize:14,fontSize:13}]},extra:{column:{type:"group",width:30,meterBorde:1,meterFillColor:"#FFFFFF",activeBgColor:"#000000",activeBgOpacity:.08,barBorderCircle:!0,seriesGap:2,categoryGap:2,labelPosition:"outside"}}},chartData_unit4:{},opts_unit4:{color:["#91CB74","#ea7ccc","#1890FF","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4"],padding:[15,10,0,15],enableScroll:!1,fontSize:15,update:!0,legend:{show:!1},xAxis:{disableGrid:!0,fontSize:15},yAxis:{gridType:"dash",dashLength:2,showTitle:!0,data:[{title:"人数/个",min:0,titleOffsetY:-5,titleOffsetX:30,titleFontSize:14,fontSize:13}]},extra:{line:{type:"straight",width:2,activeType:"hollow",linearType:"custom"}}},facilityRank:[{name:"none",count:0},{name:"none",count:0},{name:"none",count:0},{name:"none",count:0},{name:"none",count:0},{name:"none",count:0},{name:"none",count:0},{name:"none",count:0},{name:"none",count:0},{name:"none",count:0}]}},created:function(){this.getinformation()},methods:{getinformation:function(){var t=this;this.userInfo=this.$store.getters.user,l().then((function(e){if(200==e.code){var a=e.data;t.facilityRank=[],a.forEach((function(e){t.facilityRank.push({name:e.facilityName,count:e.headCount})})),t.facilityRank.sort((function(t,e){return e.count-t.count}))}else console.log("获取数据失败")})),u().then((function(e){if(200==e.code){var a=e.data,i={categories:[],series:[{name:"",data:[]}]};a.forEach((function(t){if(0!=t.expectWaitTime){i.categories.push(t.name);var e={value:t.expectWaitTime,color:["#06cb13","#f9d505","#fd4625"][Math.min(2,Math.floor(t.expectWaitTime/30))]};i.series[0].data.push(e)}})),t.chartData_unit3=JSON.parse(JSON.stringify(i))}else console.log("获取数据失败")})),h().then((function(e){if(200==e.code){var a={categories:[],series:[{name:"游玩总人数",data:[]}]};e.data.reverse(),e.data.forEach((function(t){a.categories.push(t.createTime.substr(5)),a.series[0].data.push(t.count)})),t.chartData_unit4=JSON.parse(JSON.stringify(a))}else console.log("获取数据失败")}))}}},f=d,g=(a("9688"),a("2877")),p=Object(g["a"])(f,i,n,!1,null,null,null);e["default"]=p.exports},9688:function(t,e,a){"use strict";a("920d")}}]);