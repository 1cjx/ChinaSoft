(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-infochange-passwdchange-passwdchange"],{"09ad":function(t,e,s){"use strict";s.r(e);var a=s("f376"),o=s("7105");for(var n in o)["default"].indexOf(n)<0&&function(t){s.d(e,t,(function(){return o[t]}))}(n);s("c770");var i=s("f0c5"),u=Object(i["a"])(o["default"],a["b"],a["c"],!1,null,"7d56b116",null,!1,a["a"],void 0);e["default"]=u.exports},6201:function(t,e,s){"use strict";s("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{user:{phone:"",password:"",id:""},verifycode:"",checkPassword:"",tips:"",seconds:60}},onLoad:function(){this.ip=getApp().globalData.ip},onShow:function(){var t=uni.getStorageSync("user");this.user.phone=t.phone,this.user.id=t.id},methods:{codeChange:function(t){this.tips=t},getCode:function(){this.$refs.uCode.canGetCode?(this.sendSms(),uni.hideLoading(),this.$refs.uCode.start()):this.$u.toast("倒计时结束后再发送")},submit:function(){this.verifycode?this.user.password?this.user.password.length<8||this.user.password.length>16?this.$u.toast("密码长度需大于等于8位, 小于等于16位"):this.user.password===this.checkPassword?this.verify():this.$u.toast("两次输入的密码不一致"):this.$u.toast("请输入密码"):this.$u.toast("请输入验证码")},sendSms:function(){var t=this;uni.request({url:"http://"+this.ip+"/sms/sendSms",data:{phone:this.user.phone},method:"POST",success:function(e){1*e.data.code==200?t.$u.toast("验证码已发送"):t.$u.toast("验证码发送失败,请稍后重试")}})},verify:function(){var t=this;uni.request({url:"http://"+this.ip+"/user/loginByPhone",data:{phone:this.user.phone,code:this.verifycode},method:"POST",success:function(e){1*e.data.code==200?t.infochange():1*e.data.code==4e4?t.$u.toast("验证码错误或已失效"):t.$u.toast("验证失败")}})},infochange:function(){var t=this;uni.request({url:"http://"+this.ip+"/user/update",data:this.user,method:"POST",success:function(e){if(1*e.data.code==200)t.user=e.data.data,uni.setStorageSync("user",t.user),setTimeout((function(){t.$u.toast("密码修改成功")}),100),uni.navigateBack({});else{var s=e.data.message;t.$u.toast(s)}}})}}};e.default=a},7105:function(t,e,s){"use strict";s.r(e);var a=s("6201"),o=s.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){s.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},b0ae:function(t,e,s){var a=s("e8bb");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=s("4f06").default;o("7bf45415",a,!0,{sourceMap:!1,shadowMode:!1})},c770:function(t,e,s){"use strict";var a=s("b0ae"),o=s.n(a);o.a},e8bb:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.wrap[data-v-7d56b116]{width:%?600?%;margin:auto;margin-top:%?100?%}.phonerow[data-v-7d56b116]{color:#787878;font-size:%?32?%;margin-bottom:%?20?%}.phone[data-v-7d56b116]{margin-left:%?90?%}.form[data-v-7d56b116]{border:1px solid #656565;padding:0 10px;padding-right:3px;height:%?90?%}.verigybutton[data-v-7d56b116]{width:%?170?%;height:%?80?%;margin-top:%?5?%;color:#fff;background-color:#089fff}.submitbutton[data-v-7d56b116]{margin-top:%?70?%;width:%?200?%}',""]),t.exports=e},f376:function(t,e,s){"use strict";s.d(e,"b",(function(){return o})),s.d(e,"c",(function(){return n})),s.d(e,"a",(function(){return a}));var a={uForm:s("3af0").default,uFormItem:s("ad27").default,uInput:s("b9c7").default,uToast:s("b5fb").default,uVerificationCode:s("3c83").default,uButton:s("0e47").default},o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-uni-view",{staticClass:"wrap"},[s("u-form",[s("v-uni-view",{staticClass:"phonerow"},[t._v("手机号"),s("v-uni-text",{staticClass:"phone"},[t._v(t._s(t.user.phone))])],1),s("u-form-item",{attrs:{label:"验证码","label-width":"180","label-style":{"font-size":"32rpx"}}},[s("u-input",{attrs:{type:"text",placeholder:"请输入验证码"},model:{value:t.verifycode,callback:function(e){t.verifycode=e},expression:"verifycode"}}),s("u-toast",{ref:"uToast"}),s("u-verification-code",{ref:"uCode",attrs:{seconds:t.seconds},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.codeChange.apply(void 0,arguments)}}}),s("u-button",{staticClass:"verigybutton",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCode.apply(void 0,arguments)}}},[t._v(t._s(t.tips))])],1),s("u-form-item",{attrs:{label:"密码","label-width":"180","label-style":{"font-size":"32rpx"}}},[s("u-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),s("u-form-item",{attrs:{label:"确认密码","label-width":"180","label-style":{"font-size":"32rpx"}}},[s("u-input",{attrs:{type:"password",placeholder:"请再输入一次密码"},model:{value:t.checkPassword,callback:function(e){t.checkPassword=e},expression:"checkPassword"}})],1)],1),s("u-button",{staticClass:"submitbutton",attrs:{type:"primary",plain:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit()}}},[t._v("提交")])],1)},n=[]}}]);