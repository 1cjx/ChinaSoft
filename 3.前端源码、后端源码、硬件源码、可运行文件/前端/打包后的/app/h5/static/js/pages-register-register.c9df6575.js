(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-register-register"],{"2b1a":function(e,t,s){var a=s("59c5");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=s("4f06").default;n("747ca1bf",a,!0,{sourceMap:!1,shadowMode:!1})},"59c5":function(e,t,s){var a=s("24fb");t=a(!1),t.push([e.i,".login[data-v-39400046]{width:%?620?%;margin:0 auto;font-size:%?28?%;padding-top:8%;padding-bottom:8%}.img-a[data-v-39400046]{width:100%;height:%?450?%;background-image:url(https://img.zcool.cn/community/01232a5d73858aa8012060be297844.png@1280w_1l_2o_100sh.png);background-size:100%}.button_submit[data-v-39400046]{font-size:%?28?%;background:#f2aba6;color:#fff;height:%?90?%;line-height:%?90?%;border-radius:%?50?%;font-weight:700;margin-top:10%;margin-bottom:40px}.login-view[data-v-39400046]{width:100%;position:relative;margin-top:%?-60?%;background-color:#fff;border-radius:8% 8% 0 0}",""]),e.exports=t},7432:function(e,t,s){"use strict";var a=s("2b1a"),n=s.n(a);n.a},"7bc1":function(e,t,s){"use strict";s("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,s("ac1f"),s("00b4");var a={data:function(){return{user:{phone:"",captcha:"",username:"",password:"",checkPassword:""},message:"",tips:"",seconds:60,rules:{phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3456789]\d{9}$/,message:"手机号格式不正确，请重新输入",trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:8,max:16,message:"密码长度应在8到16位之间",trigger:"blur"}],checkPassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:this.checkPassword,trigger:"blur"}]}}},onLoad:function(){},onShow:function(){this.ip=getApp().globalData.ip},methods:{codeChange:function(e){this.tips=e},getCode:function(){var e=this;this.validatePhone()&&(this.$refs.uCode.canGetCode?(uni.showLoading({title:"正在获取验证码"}),console.log("ddd"),uni.request({url:"http://"+this.ip+"/sms/sendSms",data:{phone:this.user.phone},method:"POST",success:function(t){setTimeout((function(){uni.hideLoading(),e.$u.toast("验证码已发送"),e.$refs.uCode.start()}),2e3)},fail:function(e){uni.showToast({title:"请求失败，请检查您的网络",icon:"none"})}})):this.$u.toast("倒计时结束后再发送"))},end:function(){this.$u.toast("倒计时结束")},start:function(){this.$u.toast("验证码已发送")},validatePhone:function(){for(var e=this.rules.phone,t=0;t<e.length;t++){var s=e[t];if(s.required&&!this.user.phone)return this.$u.toast(s.message),!1;if(s.pattern&&!s.pattern.test(this.user.phone))return this.$u.toast(s.message),!1}return!0},validateForm:function(){for(var e in this.rules)for(var t=this.rules[e],s=0;s<t.length;s++){var a=t[s];if(a.required&&!this.user[e])return this.$u.toast(a.message),!1;if(a.pattern&&!a.pattern.test(this.user[e]))return this.$u.toast(a.message),!1}return!0},submit:function(){var e=this;if(this.validateForm()){if(this.user.password!==this.user.checkPassword)return uni.showToast({title:"两次输入的密码不一致",icon:"none"}),!1;uni.request({url:"http://"+this.ip+"/user/registerByPhone",data:{phone:this.user.phone,code:this.user.captcha},method:"POST",success:function(t){console.log(t),1*t.data.code==200?(uni.showToast({title:"注册成功",icon:"success"}),uni.setStorageSync("phone",e.user.phone),setTimeout((function(){uni.reLaunch({url:"/pages/login/login"})}),2e3)):(e.message=t.data.message,console.log(e.message),e.$u.toast(e.message))},fail:function(e){uni.showToast({title:"请求失败，请检查您的网络",icon:"none"})}})}}}};t.default=a},d278:function(e,t,s){"use strict";s.r(t);var a=s("7bc1"),n=s.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){s.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},e35f:function(e,t,s){"use strict";s.r(t);var a=s("ecbb"),n=s("d278");for(var o in n)["default"].indexOf(o)<0&&function(e){s.d(t,e,(function(){return n[e]}))}(o);s("7432");var i=s("f0c5"),r=Object(i["a"])(n["default"],a["b"],a["c"],!1,null,"39400046",null,!1,a["a"],void 0);t["default"]=r.exports},ecbb:function(e,t,s){"use strict";s.d(t,"b",(function(){return n})),s.d(t,"c",(function(){return o})),s.d(t,"a",(function(){return a}));var a={uForm:s("3af0").default,uFormItem:s("ad27").default,uInput:s("b9c7").default,uToast:s("b5fb").default,uVerificationCode:s("3c83").default,uButton:s("0e47").default},n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-uni-view",{staticStyle:{height:"100vh",background:"#fff"}},[s("v-uni-view",{staticClass:"img-a"}),s("v-uni-view",{staticClass:"login-view"},[s("v-uni-view",{staticClass:"login"},[s("u-form",{attrs:{model:e.user,rules:e.rules},nativeOn:{submit:function(t){t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[s("u-form-item",{attrs:{label:"手机号","left-icon":"phone","label-width":"180","label-style":{"font-size":"32rpx","font-weight":"bold"}}},[s("u-input",{attrs:{type:"text",placeholder:"请输入手机号"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),s("u-form-item",{attrs:{label:"验证码","left-icon":"error-circle","label-width":"180","label-style":{"font-size":"32rpx","font-weight":"bold"}}},[s("u-input",{attrs:{type:"text",placeholder:"请输入验证码"},model:{value:e.user.captcha,callback:function(t){e.$set(e.user,"captcha",t)},expression:"user.captcha"}}),s("u-toast",{ref:"uToast"}),s("u-verification-code",{ref:"uCode",attrs:{seconds:e.seconds},on:{end:function(t){arguments[0]=t=e.$handleEvent(t),e.end.apply(void 0,arguments)},start:function(t){arguments[0]=t=e.$handleEvent(t),e.start.apply(void 0,arguments)},change:function(t){arguments[0]=t=e.$handleEvent(t),e.codeChange.apply(void 0,arguments)}}}),s("u-button",{staticClass:"getcode",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode.apply(void 0,arguments)}}},[e._v(e._s(e.tips))])],1),s("u-form-item",{attrs:{label:"昵称","left-icon":"plus-circle","label-width":"180","label-style":{"font-size":"32rpx","font-weight":"bold"}}},[s("u-input",{attrs:{type:"text",placeholder:"请输入昵称"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),s("u-form-item",{attrs:{label:"密码","left-icon":"lock","label-width":"180","label-style":{"font-size":"32rpx","font-weight":"bold"}}},[s("u-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),s("u-form-item",{attrs:{label:"确认密码","left-icon":"lock-fill","label-width":"180","label-style":{"font-size":"32rpx","font-weight":"bold"}}},[s("u-input",{attrs:{type:"password",placeholder:"请再输入一次密码"},model:{value:e.user.checkPassword,callback:function(t){e.$set(e.user,"checkPassword",t)},expression:"user.checkPassword"}})],1),s("v-uni-button",{staticClass:"button_submit",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit()}}},[e._v("立 即 注 册")])],1)],1)],1)],1)},o=[]}}]);